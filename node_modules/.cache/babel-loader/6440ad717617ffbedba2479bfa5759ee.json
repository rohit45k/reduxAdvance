{"ast":null,"code":"import { cartActions } from \"./cartSlice\";\nimport { uiActions } from \"./uiSlice\";\nexport const sendCartData = cart => {\n  return async dispatch => {\n    dispatch(uiActions.showNotification({\n      status: 'pending',\n      title: 'Sending...',\n      message: 'Sending cart data'\n    }));\n\n    const sendData = async () => {\n      const response = await fetch(\"https://redux-store-97f56-default-rtdb.asia-southeast1.firebasedatabase.app/cart.json\", {\n        method: 'PUT',\n        body: JSON.stringify(cart)\n      });\n\n      if (!response.ok) {\n        throw new Error('Sending data failed');\n      }\n    };\n\n    try {\n      await sendData();\n      dispatch(uiActions.showNotification({\n        status: 'success',\n        title: 'Success',\n        message: 'Sent cart data successfully'\n      }));\n    } catch (error) {\n      dispatch(uiActions.showNotification({\n        status: 'error',\n        title: 'Error...',\n        message: 'Something went wrong'\n      }));\n    }\n  };\n};\nexport const fetchCartData = () => {\n  return async dispatch => {\n    dispatch(uiActions.showNotification({\n      status: 'pending',\n      title: 'Fetching...',\n      message: 'Fetching cart data'\n    }));\n\n    const fetchCart = async () => {\n      const response = await fetch(\"https://redux-store-97f56-default-rtdb.asia-southeast1.firebasedatabase.app/cart.json\");\n\n      if (!response.ok) {\n        throw new Error('Something went wrong');\n      }\n\n      const data = await response.json();\n      return data;\n    };\n\n    try {\n      const cartData = await fetchCart();\n      dispatch(cartActions.replaceCart({\n        items: cartData.items || [],\n        badgeQty: cartData.badgeQty,\n        totalAmount: cartData.totalAmount\n      }));\n      dispatch(uiActions.showNotification({\n        status: 'success',\n        title: 'Success',\n        message: 'Fetched cart data successfully'\n      }));\n    } catch (error) {\n      dispatch(uiActions.showNotification({\n        status: 'error',\n        title: 'Error...',\n        message: 'Something went wrong'\n      }));\n    }\n  };\n};","map":{"version":3,"names":["cartActions","uiActions","sendCartData","cart","dispatch","showNotification","status","title","message","sendData","response","fetch","method","body","JSON","stringify","ok","Error","error","fetchCartData","fetchCart","data","json","cartData","replaceCart","items","badgeQty","totalAmount"],"sources":["C:/Users/Admin/Desktop/udemy/reduxAdvance/src/store/cart-actions.js"],"sourcesContent":["import { cartActions } from \"./cartSlice\";\r\nimport { uiActions } from \"./uiSlice\";\r\n\r\nexport const sendCartData = (cart) => {\r\n    return async(dispatch) => {\r\n        dispatch(uiActions.showNotification({\r\n            status: 'pending',\r\n            title: 'Sending...',\r\n            message: 'Sending cart data'\r\n          }))\r\n\r\n        const sendData = async() => {\r\n            const response = await fetch(\"https://redux-store-97f56-default-rtdb.asia-southeast1.firebasedatabase.app/cart.json\", {\r\n                method: 'PUT',\r\n                body: JSON.stringify(cart)\r\n            })\r\n\r\n            if(!response.ok) {\r\n                throw new Error('Sending data failed')\r\n            }\r\n        }\r\n\r\n        try {\r\n            await sendData()\r\n            dispatch(uiActions.showNotification({\r\n                status: 'success',\r\n                title: 'Success',\r\n                message: 'Sent cart data successfully'\r\n              }))\r\n        } catch (error) {\r\n            dispatch(uiActions.showNotification({\r\n                status: 'error',\r\n                title: 'Error...',\r\n                message: 'Something went wrong'\r\n              }))\r\n        }\r\n    }\r\n}\r\n\r\nexport const fetchCartData = () => {\r\n    return async(dispatch) => {\r\n        dispatch(uiActions.showNotification({\r\n            status: 'pending',\r\n            title: 'Fetching...',\r\n            message: 'Fetching cart data'\r\n          }))\r\n\r\n          const fetchCart = async() => {\r\n            const response = await fetch(\"https://redux-store-97f56-default-rtdb.asia-southeast1.firebasedatabase.app/cart.json\")\r\n\r\n            if(!response.ok) {\r\n                throw new Error('Something went wrong')\r\n            }\r\n\r\n            const data = await response.json();\r\n            return data;\r\n          }\r\n\r\n          try {\r\n            const cartData = await fetchCart();\r\n            dispatch(cartActions.replaceCart({\r\n                items: cartData.items || [],\r\n                badgeQty: cartData.badgeQty,\r\n                totalAmount: cartData.totalAmount,\r\n            }));\r\n            dispatch(uiActions.showNotification({\r\n                status: 'success',\r\n                title: 'Success',\r\n                message: 'Fetched cart data successfully'\r\n              }))\r\n          } catch (error) {\r\n            dispatch(uiActions.showNotification({\r\n                status: 'error',\r\n                title: 'Error...',\r\n                message: 'Something went wrong'\r\n              }))\r\n          }\r\n    }\r\n}"],"mappings":"AAAA,SAASA,WAAT,QAA4B,aAA5B;AACA,SAASC,SAAT,QAA0B,WAA1B;AAEA,OAAO,MAAMC,YAAY,GAAIC,IAAD,IAAU;EAClC,OAAO,MAAMC,QAAN,IAAmB;IACtBA,QAAQ,CAACH,SAAS,CAACI,gBAAV,CAA2B;MAChCC,MAAM,EAAE,SADwB;MAEhCC,KAAK,EAAE,YAFyB;MAGhCC,OAAO,EAAE;IAHuB,CAA3B,CAAD,CAAR;;IAMA,MAAMC,QAAQ,GAAG,YAAW;MACxB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,uFAAD,EAA0F;QAClHC,MAAM,EAAE,KAD0G;QAElHC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeZ,IAAf;MAF4G,CAA1F,CAA5B;;MAKA,IAAG,CAACO,QAAQ,CAACM,EAAb,EAAiB;QACb,MAAM,IAAIC,KAAJ,CAAU,qBAAV,CAAN;MACH;IACJ,CATD;;IAWA,IAAI;MACA,MAAMR,QAAQ,EAAd;MACAL,QAAQ,CAACH,SAAS,CAACI,gBAAV,CAA2B;QAChCC,MAAM,EAAE,SADwB;QAEhCC,KAAK,EAAE,SAFyB;QAGhCC,OAAO,EAAE;MAHuB,CAA3B,CAAD,CAAR;IAKH,CAPD,CAOE,OAAOU,KAAP,EAAc;MACZd,QAAQ,CAACH,SAAS,CAACI,gBAAV,CAA2B;QAChCC,MAAM,EAAE,OADwB;QAEhCC,KAAK,EAAE,UAFyB;QAGhCC,OAAO,EAAE;MAHuB,CAA3B,CAAD,CAAR;IAKH;EACJ,CAhCD;AAiCH,CAlCM;AAoCP,OAAO,MAAMW,aAAa,GAAG,MAAM;EAC/B,OAAO,MAAMf,QAAN,IAAmB;IACtBA,QAAQ,CAACH,SAAS,CAACI,gBAAV,CAA2B;MAChCC,MAAM,EAAE,SADwB;MAEhCC,KAAK,EAAE,aAFyB;MAGhCC,OAAO,EAAE;IAHuB,CAA3B,CAAD,CAAR;;IAME,MAAMY,SAAS,GAAG,YAAW;MAC3B,MAAMV,QAAQ,GAAG,MAAMC,KAAK,CAAC,uFAAD,CAA5B;;MAEA,IAAG,CAACD,QAAQ,CAACM,EAAb,EAAiB;QACb,MAAM,IAAIC,KAAJ,CAAU,sBAAV,CAAN;MACH;;MAED,MAAMI,IAAI,GAAG,MAAMX,QAAQ,CAACY,IAAT,EAAnB;MACA,OAAOD,IAAP;IACD,CATD;;IAWA,IAAI;MACF,MAAME,QAAQ,GAAG,MAAMH,SAAS,EAAhC;MACAhB,QAAQ,CAACJ,WAAW,CAACwB,WAAZ,CAAwB;QAC7BC,KAAK,EAAEF,QAAQ,CAACE,KAAT,IAAkB,EADI;QAE7BC,QAAQ,EAAEH,QAAQ,CAACG,QAFU;QAG7BC,WAAW,EAAEJ,QAAQ,CAACI;MAHO,CAAxB,CAAD,CAAR;MAKAvB,QAAQ,CAACH,SAAS,CAACI,gBAAV,CAA2B;QAChCC,MAAM,EAAE,SADwB;QAEhCC,KAAK,EAAE,SAFyB;QAGhCC,OAAO,EAAE;MAHuB,CAA3B,CAAD,CAAR;IAKD,CAZD,CAYE,OAAOU,KAAP,EAAc;MACdd,QAAQ,CAACH,SAAS,CAACI,gBAAV,CAA2B;QAChCC,MAAM,EAAE,OADwB;QAEhCC,KAAK,EAAE,UAFyB;QAGhCC,OAAO,EAAE;MAHuB,CAA3B,CAAD,CAAR;IAKD;EACN,CArCD;AAsCH,CAvCM"},"metadata":{},"sourceType":"module"}